plugins {
    id 'java'
}

repositories {
    mavenCentral() 
}

dependencies {
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.3'
    implementation 'org.jetbrains.kotlin:kotlin-stdlib:2.1.10'
    implementation 'org.jetbrains.kotlinx:kotlinx-serialization-core:1.8.0'
    implementation fileTree(dir: "$projectDir/repo/build/libs", includes: ["purlkt-jvm-*.jar"])
}

tasks.register('stage', Copy) {
    from configurations.runtimeClasspath
    into "$buildDir/libs"
}
build.dependsOn 'stage'
